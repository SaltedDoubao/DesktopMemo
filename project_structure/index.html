<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>项目架构文档索引 - DesktopMemo Docs</title>

    <script src="../theme-preload.js"></script>
    <link rel="stylesheet" href="../styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=JetBrains+Mono&display=swap"
        rel="stylesheet">
</head>

<body>
    <div class="layout">
        <nav class="sidebar">
            <div class="sidebar-logo">DesktopMemo</div>

            <h3>概览</h3>
            <ul>
                <li><a href="../index.html">首页</a></li>
                <li><a href="../contributing.html">贡献指南</a></li>
                <li><a href="../mysql_integration.html">MySQL 集成规范</a></li>
            </ul>

            <h3>项目架构</h3>
            <ul>
                <li><a href="index.html" class="active">架构首页</a></li>
                <li><a href="architecture.html">01 架构图</a></li>
                <li><a href="modules.html">02 模块划分</a></li>
                <li><a href="tech_stack.html">03 技术栈和依赖</a></li>
                <li><a href="data_flow.html">04 数据流和通信</a></li>
            </ul>

            <h3>API 文档</h3>
            <ul>
                <li><a href="../api/index.html">API 概览</a></li>
            </ul>
        </nav>

        <main class="content">
            <div class="content-inner">
                <h1>DesktopMemo 项目架构文档索引</h1>
                <p>本目录包含 DesktopMemo 项目的完整架构文档，帮助开发者快速了解系统设计、技术选型和数据流机制。</p>

                <hr>

                <h2>📚 文档列表</h2>

                <h3><a href="architecture.html">01_架构图.md</a></h3>
                <p><strong>核心内容</strong>:</p>
                <ul>
                    <li>整体系统架构 (三层架构图)</li>
                    <li>项目结构说明</li>
                    <li>依赖注入配置</li>
                    <li>数据存储架构</li>
                    <li>关键设计模式</li>
                    <li>核心模块概览</li>
                </ul>
                <p><strong>适用场景</strong>: 新人入职快速了解项目, 架构评审, 技术债务分析.<br>
                    <strong>关键图表</strong>: 三层架构总览图, 数据存储架构图, 依赖关系图.
                </p>

                <hr>

                <h3><a href="modules.html">02_模块划分.md</a></h3>
                <p><strong>核心内容</strong>:</p>
                <ul>
                    <li>表示层模块详解 (Views, ViewModels, Localization)</li>
                    <li>领域层模块详解 (Models, Contracts, Helpers)</li>
                    <li>基础设施层模块详解 (Repositories, Services)</li>
                    <li>模块间通信机制</li>
                </ul>
                <p><strong>适用场景</strong>: 添加新功能前的模块定位, 代码审查, 模块职责划分.<br>
                    <strong>关键图表</strong>: 模块总览图, 序列图, 依赖图.
                </p>

                <hr>

                <h3><a href="tech_stack.html">03_技术栈和依赖.md</a></h3>
                <p><strong>核心内容</strong>:</p>
                <ul>
                    <li>.NET 9.0 + WPF 技术栈</li>
                    <li>MVVM 架构详解</li>
                    <li>第三方库依赖清单 (CommunityToolkit.Mvvm, Dapper, etc)</li>
                    <li>Windows API 调用</li>
                </ul>
                <p><strong>适用场景</strong>: 依赖升级决策, 技术选型.<br>
                    <strong>关键信息</strong>: NuGet 包版本清单, 技术选型对比.
                </p>

                <hr>

                <h3><a href="data_flow.html">04_数据流和通信.md</a></h3>
                <p><strong>核心内容</strong>:</p>
                <ul>
                    <li>数据流总览与核心业务流程</li>
                    <li>数据存储策略 (双存储设计)</li>
                    <li>并发控制与异步数据流</li>
                    <li>事件驱动机制</li>
                </ul>
                <p><strong>适用场景</strong>: 理解业务流程, 排查数据问题, 性能优化.</p>

                <hr>

                <h2>🗺️ 快速导航</h2>

                <h3>我是新人，从哪里开始?</h3>
                <ol>
                    <li><strong>先看</strong>: <a href="architecture.html">01 架构图</a> - 了解整体架构</li>
                    <li><strong>再看</strong>: <a href="modules.html">02 模块划分</a> - 了解各层职责</li>
                    <li><strong>最后</strong>: <a href="data_flow.html">04 数据流和通信</a> - 了解数据如何流动</li>
                </ol>

                <h3>我要添加新功能</h3>
                <ol>
                    <li><strong>查看</strong>: <a href="modules.html">02 模块划分</a> 第 8 节 - 模块扩展指南</li>
                    <li><strong>参考</strong>: <a href="data_flow.html">04 数据流和通信</a> 第 2 节 - 核心数据流场景</li>
                </ol>

                <hr>

                <h2>📊 架构一览</h2>
                <h3>三层架构</h3>
                <pre><code>
┌─────────────────────────────────────────┐
│  表示层 (DesktopMemo.App)               │
│  - WPF Views                            │
│  - ViewModels (MVVM)                    │
│  - Localization                         │
├─────────────────────────────────────────┤
│  领域层 (DesktopMemo.Core)              │
│  - Domain Models                        │
│  - Contracts/Interfaces                 │
│  - Helpers                              │
├─────────────────────────────────────────┤
│  基础设施层 (DesktopMemo.Infrastructure)│
│  - Repositories (数据访问)               │
│  - Services (业务服务)                   │
└─────────────────────────────────────────┘
         ↓              ↓
  ┌──────────┐    ┌──────────┐
  │ SQLite DB│    │ Markdown │
  │  索引    │    │  文件    │
  └──────────┘    └──────────┘</code></pre>

                <h3>核心技术栈</h3>
                <ul>
                    <li><strong>开发平台</strong>: .NET 9.0 + C# 13.0</li>
                    <li><strong>UI 框架</strong>: WPF</li>
                    <li><strong>架构模式</strong>: MVVM (CommunityToolkit.Mvvm)</li>
                    <li><strong>数据存储</strong>: SQLite + Markdown + JSON</li>
                    <li><strong>ORM</strong>: Dapper</li>
                </ul>

                <h3>核心模块</h3>
                <table>
                    <tr>
                        <th>模块</th>
                        <th>职责</th>
                        <th>关键类</th>
                    </tr>
                    <tr>
                        <td>备忘录管理</td>
                        <td>CRUD 操作</td>
                        <td>MainViewModel, SqliteIndexedMemoRepository</td>
                    </tr>
                    <tr>
                        <td>TodoList</td>
                        <td>任务管理</td>
                        <td>TodoListViewModel, SqliteTodoRepository</td>
                    </tr>
                    <tr>
                        <td>搜索</td>
                        <td>全文搜索</td>
                        <td>MemoSearchService</td>
                    </tr>
                    <tr>
                        <td>设置</td>
                        <td>配置管理</td>
                        <td>JsonSettingsService</td>
                    </tr>
                    <tr>
                        <td>日志</td>
                        <td>日志记录</td>
                        <td>FileLogService, LogViewModel</td>
                    </tr>
                    <tr>
                        <td>托盘</td>
                        <td>系统托盘</td>
                        <td>TrayService</td>
                    </tr>
                    <tr>
                        <td>数据迁移</td>
                        <td>版本升级</td>
                        <td>*MigrationService</td>
                    </tr>
                </table>

                <hr>
                <p><strong>最后更新</strong>: 2025-11-15</p>
            </div>
        </main>
    </div>

    <script src="../main.js"></script>
</body>

</html>