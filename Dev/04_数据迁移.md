# 数据迁移

DesktopMemo 会在启动时执行必要的数据迁移，以保证不同版本间的数据结构一致性。

## 迁移场景示例

- Todo：从旧格式（如 JSON）迁移到 SQLite（`todos.db`）
- Memo 索引：从旧索引文件（如 `index.json`）迁移到 SQLite（`memos.db`）

## 迁移的可观测信号

- `.memodata/.logs/` 中出现 `Migration` 相关记录
- 迁移后数据库文件更新（如 `memos.db`、`todos.db`）

## 注意事项

- 如迁移涉及文件索引重建，可能会更新部分文件时间戳以保证索引一致性
- 迁移问题排查优先查看日志，并在提交 Issue 时附带脱敏后的关键信息

---

**最后更新**：2025-12-26

